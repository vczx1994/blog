(window.webpackJsonp=window.webpackJsonp||[]).push([[244],{756:function(s,t,a){"use strict";a.r(t);var n=a(42),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"ip-寻址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ip-寻址"}},[s._v("#")]),s._v(" IP 寻址")]),s._v(" "),a("p",[s._v("当通过 DNS 解析查找到域名对应的 IP 地址后，就会进行 IP 寻址与 ARP 寻址，找到目标主机。")]),s._v(" "),a("h2",{attrs:{id:"报文"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#报文"}},[s._v("#")]),s._v(" 报文")]),s._v(" "),a("h2",{attrs:{id:"ping"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ping"}},[s._v("#")]),s._v(" ping")]),s._v(" "),a("p",[s._v("使用 "),a("code",[s._v("ping")]),s._v(" 命令发送 "),a("code",[s._v("ICMP")]),s._v(" 报文，查看主机是否可达。"),a("code",[s._v("ping")]),s._v(" 也可以直接测试域名")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("shanyue.tech")])]),s._v(" "),a("li",[a("code",[s._v("shici.xiange.tech")])])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" -c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" shici.xiange.tech\nPING shici.xiange.tech "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59.110")]),s._v(".216.155"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(" data bytes\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59.110")]),s._v(".216.155: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.547")]),s._v(" ms\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59.110")]),s._v(".216.155: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.175")]),s._v(" ms\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59.110")]),s._v(".216.155: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.694")]),s._v(" ms\n\n--- shici.xiange.tech "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" statistics ---\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" packets transmitted, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" packets received, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("% packet loss\nround-trip min/avg/max/stddev "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.175")]),s._v("/11.472/15.694/2.989 ms\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" -c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" shanyue.tech\nPING shanyue.netlify.com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("206.189")]),s._v(".89.118"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(" data bytes\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("206.189")]),s._v(".89.118: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("278.805")]),s._v(" ms\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("206.189")]),s._v(".89.118: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("322.390")]),s._v(" ms\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("206.189")]),s._v(".89.118: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("262.476")]),s._v(" ms\n\n--- shanyue.netlify.com "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" statistics ---\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" packets transmitted, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" packets received, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("% packet loss\nround-trip min/avg/max/stddev "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("262.476")]),s._v("/287.890/322.390/25.289 ms\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 经过国内 CDN 优化后")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" -c "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" shanyue.tech\nPING shanyue.tech.w.kunlungr.com "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("124.200")]),s._v(".113.112"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(" data bytes\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("124.200")]),s._v(".113.112: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.274")]),s._v(" ms\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("124.200")]),s._v(".113.112: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.759")]),s._v(" ms\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" bytes from "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("124.200")]),s._v(".113.112: "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("icmp_seq")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ttl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("time")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.697")]),s._v(" ms\n\n--- shanyue.tech.w.kunlungr.com "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" statistics ---\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" packets transmitted, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" packets received, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("% packet loss\nround-trip min/avg/max/stddev "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.274")]),s._v("/3.910/4.697/0.591 ms\n")])])]),a("h2",{attrs:{id:"ttl-time-to-live-与-hop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ttl-time-to-live-与-hop"}},[s._v("#")]),s._v(" TTL (time to live) 与 hop")]),s._v(" "),a("p",[s._v("我们在 ping IP地址时，会有一个字段 ttl=55，那 ttl 是什么意思呢？")]),s._v(" "),a("p",[s._v("我们在互联网寻址时会经过一个又一个的路由器，每次经过一个路由器就成一个 hop，hop 又称为一跳。路由器就像是自驾游时过高速公路的收费站，也像是出去旅游时坐高铁的中转站。")]),s._v(" "),a("p",[a("strong",[s._v("我们在不断跳路由器寻找目标主机时，我们如何判断目标主机不可达呢？")])]),s._v(" "),a("p",[s._v("我们会设置一个最大的最大的 hop，一般为 64，如果 64 跳后还没有到达目标主机，则称目标主机不可达。")]),s._v(" "),a("p",[s._v("ttl 在这里的意思与调数相关，全称 "),a("code",[s._v("time to live")]),s._v("，用它表示如果在跳 ttl 个路由器还没找到，那就代表目标主机不可达")]),s._v(" "),a("h2",{attrs:{id:"ip-寻址与-traceroute"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ip-寻址与-traceroute"}},[s._v("#")]),s._v(" IP 寻址与 traceroute")]),s._v(" "),a("p",[s._v("我们在互联网上访问到 "),a("code",[s._v("59.110.216.155")]),s._v("，其中必然经过了许多路由器。如同我们去公司上班时也会经过很多地铁中转站，虽然去公司有很多条可选，但最近的往往就那么一条。")]),s._v(" "),a("p",[s._v("通过 "),a("code",[s._v("traceroute")]),s._v(" 命令可以打印途中经过的路由")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("traceroute")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59.110")]),s._v(".216.155\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("traceroute")]),s._v(" to "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59.110")]),s._v(".216.155 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59.110")]),s._v(".216.155"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(" hops max, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(" byte packets\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".12.1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".12.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.177")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.170")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.181")]),s._v(" ms\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".252.1 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".252.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.459")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.394")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.240")]),s._v(" ms\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("124.200")]),s._v(".184.73 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("124.200")]),s._v(".184.73"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.865")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.787")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.794")]),s._v(" ms\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.255")]),s._v(".155.201 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.255")]),s._v(".155.201"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.647")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.405")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.014")]),s._v(" ms\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.255")]),s._v(".154.85 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.255")]),s._v(".154.85"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.240")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.883")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.500")]),s._v(" ms\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("218.241")]),s._v(".255.201 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("218.241")]),s._v(".255.201"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.469")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.176")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.976")]),s._v(" ms\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".243.45 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".243.45"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.421")]),s._v(" ms\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".179.69 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".179.69"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28.519")]),s._v(" ms\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".177.81 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".177.81"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("62.002")]),s._v(" ms\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".219.201 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".219.201"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.500")]),s._v(" ms\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".219.205 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".219.205"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.851")]),s._v(" ms\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".196.22 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".196.22"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.769")]),s._v(" ms\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".213.94 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".213.94"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.365")]),s._v(" ms\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".200.242 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".200.242"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.781")]),s._v(" ms\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".213.90 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".213.90"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.157")]),s._v(" ms\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".200.242 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.197")]),s._v(".200.242"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.768")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.031")]),s._v(" ms  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.015")]),s._v(" ms\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("116.251")]),s._v(".112.178 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("116.251")]),s._v(".112.178"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.215")]),s._v(" ms\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103.41")]),s._v(".143.193 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103.41")]),s._v(".143.193"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.112")]),s._v(" ms\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103.41")]),s._v(".143.177 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103.41")]),s._v(".143.177"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.725")]),s._v(" ms\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("116.251")]),s._v(".117.29 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("116.251")]),s._v(".117.29"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.993")]),s._v(" ms *\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103.41")]),s._v(".143.177 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("103.41")]),s._v(".143.177"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.771")]),s._v(" ms\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.204")]),s._v(".180.169 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.204")]),s._v(".180.169"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.260")]),s._v(" ms * *\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59.110")]),s._v(".216.155 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("59.110")]),s._v(".216.155"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.740")]),s._v(" ms\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.219")]),s._v(".79.177 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.219")]),s._v(".79.177"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.645")]),s._v(" ms\n    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.219")]),s._v(".79.145 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.219")]),s._v(".79.145"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.785")]),s._v(" ms\n")])])]),a("p",[s._v("我们可以得到哪些信息呢")]),s._v(" "),a("ol",[a("li",[s._v("我们发送的报文大小是 52 Byte")]),s._v(" "),a("li",[s._v("我们到达目标主机听过了 14 个路由器")])]),s._v(" "),a("h2",{attrs:{id:"路由表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由表"}},[s._v("#")]),s._v(" 路由表")]),s._v(" "),a("p",[s._v("那我们如何确认第一跳呢？")]),s._v(" "),a("p",[s._v("我们有一个路由表记录了信息")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ route -n\nKernel IP routing table\nDestination     Gateway         Genmask         Flags   MSS Window  irtt Iface\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.253   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         UG        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" eth0\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.0        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0   U         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" tun0\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".0.0     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".0.0     U         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" eth0\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.17")]),s._v(".0.0      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".0.0     U         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" docker0\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.18")]),s._v(".0.0      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".0.0     U         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" br-705e5ff46760\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.19")]),s._v(".0.0      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".0.0     U         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" br-cf03cb526caf\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.0     "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("255.255")]),s._v(".255.0   U         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" eth0\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" route\ndefault via "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.253 dev eth0\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.0/24 dev tun0 proto kernel scope "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" src "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.8")]),s._v(".0.1\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.254")]),s._v(".0.0/16 dev eth0 scope "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" metric "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1002")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.17")]),s._v(".0.0/16 dev docker0 proto kernel scope "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" src "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.17")]),s._v(".0.1\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.18")]),s._v(".0.0/16 dev br-705e5ff46760 proto kernel scope "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" src "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.18")]),s._v(".0.1\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.19")]),s._v(".0.0/16 dev br-cf03cb526caf proto kernel scope "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" src "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.19")]),s._v(".0.1\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.0/24 dev eth0 proto kernel scope "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v(" src "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.214\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -nr\n")])])]),a("p",[s._v("在根据路由表寻址时，有一系列步骤")]),s._v(" "),a("h2",{attrs:{id:"面试追问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#面试追问"}},[s._v("#")]),s._v(" 面试追问")]),s._v(" "),a("h3",{attrs:{id:"使用什么命令查找本机的路由表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用什么命令查找本机的路由表"}},[s._v("#")]),s._v(" 使用什么命令查找本机的路由表")]),s._v(" "),a("h3",{attrs:{id:"traceroute-的原理是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#traceroute-的原理是什么"}},[s._v("#")]),s._v(" "),a("code",[s._v("traceroute")]),s._v(" 的原理是什么")]),s._v(" "),a("h3",{attrs:{id:"当-ping-目标主机时-如何判断目标主机不可达"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#当-ping-目标主机时-如何判断目标主机不可达"}},[s._v("#")]),s._v(" 当 ping 目标主机时，如何判断目标主机不可达")]),s._v(" "),a("h3",{attrs:{id:"如何查看你与目标主机隔了多少路由器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何查看你与目标主机隔了多少路由器"}},[s._v("#")]),s._v(" 如何查看你与目标主机隔了多少路由器")]),s._v(" "),a("h3",{attrs:{id:"_127-0-0-1-与-localhost-有什么区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_127-0-0-1-与-localhost-有什么区别"}},[s._v("#")]),s._v(" 127.0.0.1 与 localhost 有什么区别")])])}),[],!1,null,null,null);t.default=e.exports}}]);