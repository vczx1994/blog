<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网站的缓存控制策略最佳实践及注意事项 | 山月行</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="shortcut icon" href="/blog/favicon.ico" type="image/x-icon">
    <meta name="description" content="全栈成长之路，分享前后端以及 DevOps 相关文章，使各端开发者能够突破瓶颈进一步成长。">
    <meta name="baidu-site-verification" content="ZAdkE6LA10">
    <meta name="google-site-verification" content="_rNB9Nt0ukzWmMfhXSSxCHUAeeMs24OiuhGm4QjdwXA">
    
    <link rel="preload" href="/blog/assets/css/0.styles.a8b589c1.css" as="style"><link rel="preload" href="/blog/assets/js/app.84ccd95a.js" as="script"><link rel="preload" href="/blog/assets/js/3.9923276c.js" as="script"><link rel="preload" href="/blog/assets/js/2.b54c2c97.js" as="script"><link rel="preload" href="/blog/assets/js/14.726d16b6.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.09a3ece6.js"><link rel="prefetch" href="/blog/assets/js/100.248601c0.js"><link rel="prefetch" href="/blog/assets/js/101.c541e4db.js"><link rel="prefetch" href="/blog/assets/js/102.90b53bfc.js"><link rel="prefetch" href="/blog/assets/js/103.0d2e3fd4.js"><link rel="prefetch" href="/blog/assets/js/104.de67b1c2.js"><link rel="prefetch" href="/blog/assets/js/105.f6ecb8b3.js"><link rel="prefetch" href="/blog/assets/js/106.f1df56f8.js"><link rel="prefetch" href="/blog/assets/js/107.89524e2a.js"><link rel="prefetch" href="/blog/assets/js/108.613e48c7.js"><link rel="prefetch" href="/blog/assets/js/109.9767bfb9.js"><link rel="prefetch" href="/blog/assets/js/11.519cbd6e.js"><link rel="prefetch" href="/blog/assets/js/110.a7d71f5a.js"><link rel="prefetch" href="/blog/assets/js/111.98e4512d.js"><link rel="prefetch" href="/blog/assets/js/112.6ceacdd8.js"><link rel="prefetch" href="/blog/assets/js/113.6005ed5e.js"><link rel="prefetch" href="/blog/assets/js/114.0335a03d.js"><link rel="prefetch" href="/blog/assets/js/115.40cd5647.js"><link rel="prefetch" href="/blog/assets/js/116.7c527ee3.js"><link rel="prefetch" href="/blog/assets/js/117.e9214bb5.js"><link rel="prefetch" href="/blog/assets/js/118.f18c4bff.js"><link rel="prefetch" href="/blog/assets/js/119.5358348f.js"><link rel="prefetch" href="/blog/assets/js/12.8c4be880.js"><link rel="prefetch" href="/blog/assets/js/120.0b2a9296.js"><link rel="prefetch" href="/blog/assets/js/121.5be86df1.js"><link rel="prefetch" href="/blog/assets/js/122.6b26dc68.js"><link rel="prefetch" href="/blog/assets/js/123.697ccaa4.js"><link rel="prefetch" href="/blog/assets/js/124.376df826.js"><link rel="prefetch" href="/blog/assets/js/125.86d4fb19.js"><link rel="prefetch" href="/blog/assets/js/126.8ae59e70.js"><link rel="prefetch" href="/blog/assets/js/127.1623ddb1.js"><link rel="prefetch" href="/blog/assets/js/128.da6382db.js"><link rel="prefetch" href="/blog/assets/js/129.ba9c637e.js"><link rel="prefetch" href="/blog/assets/js/13.d1efe13a.js"><link rel="prefetch" href="/blog/assets/js/130.931f134c.js"><link rel="prefetch" href="/blog/assets/js/131.10b82dec.js"><link rel="prefetch" href="/blog/assets/js/132.34347613.js"><link rel="prefetch" href="/blog/assets/js/133.166b3a31.js"><link rel="prefetch" href="/blog/assets/js/134.a68b5073.js"><link rel="prefetch" href="/blog/assets/js/135.3d80b32a.js"><link rel="prefetch" href="/blog/assets/js/136.d261ea11.js"><link rel="prefetch" href="/blog/assets/js/137.4dd98494.js"><link rel="prefetch" href="/blog/assets/js/138.d5873cfe.js"><link rel="prefetch" href="/blog/assets/js/139.beb1d0d4.js"><link rel="prefetch" href="/blog/assets/js/140.6f6b2381.js"><link rel="prefetch" href="/blog/assets/js/141.1bcf6eec.js"><link rel="prefetch" href="/blog/assets/js/142.a1870d5e.js"><link rel="prefetch" href="/blog/assets/js/143.44955bf5.js"><link rel="prefetch" href="/blog/assets/js/144.d1cb904a.js"><link rel="prefetch" href="/blog/assets/js/145.1d4e6173.js"><link rel="prefetch" href="/blog/assets/js/146.5891d192.js"><link rel="prefetch" href="/blog/assets/js/147.eef7dc1e.js"><link rel="prefetch" href="/blog/assets/js/148.beed3b72.js"><link rel="prefetch" href="/blog/assets/js/149.efbbb033.js"><link rel="prefetch" href="/blog/assets/js/15.43fcdb97.js"><link rel="prefetch" href="/blog/assets/js/150.2858b19e.js"><link rel="prefetch" href="/blog/assets/js/151.f77a99bb.js"><link rel="prefetch" href="/blog/assets/js/152.4b73eba2.js"><link rel="prefetch" href="/blog/assets/js/153.8e04046f.js"><link rel="prefetch" href="/blog/assets/js/154.e66d4aa2.js"><link rel="prefetch" href="/blog/assets/js/155.e5021bb3.js"><link rel="prefetch" href="/blog/assets/js/156.c53d2e50.js"><link rel="prefetch" href="/blog/assets/js/157.4dc4d87e.js"><link rel="prefetch" href="/blog/assets/js/158.1fbf779e.js"><link rel="prefetch" href="/blog/assets/js/159.d2608870.js"><link rel="prefetch" href="/blog/assets/js/16.663784be.js"><link rel="prefetch" href="/blog/assets/js/160.96c5d72f.js"><link rel="prefetch" href="/blog/assets/js/161.b9872863.js"><link rel="prefetch" href="/blog/assets/js/162.e2bc97a5.js"><link rel="prefetch" href="/blog/assets/js/163.b11cf9ce.js"><link rel="prefetch" href="/blog/assets/js/164.4a925e96.js"><link rel="prefetch" href="/blog/assets/js/165.7899e6ee.js"><link rel="prefetch" href="/blog/assets/js/166.7b7a37f3.js"><link rel="prefetch" href="/blog/assets/js/167.df05c463.js"><link rel="prefetch" href="/blog/assets/js/168.d39eacb8.js"><link rel="prefetch" href="/blog/assets/js/169.cb8b9ad3.js"><link rel="prefetch" href="/blog/assets/js/17.d2e72c37.js"><link rel="prefetch" href="/blog/assets/js/170.6b505e82.js"><link rel="prefetch" href="/blog/assets/js/171.62264b09.js"><link rel="prefetch" href="/blog/assets/js/172.782b969c.js"><link rel="prefetch" href="/blog/assets/js/173.aa19466f.js"><link rel="prefetch" href="/blog/assets/js/174.4eb3c115.js"><link rel="prefetch" href="/blog/assets/js/175.21589451.js"><link rel="prefetch" href="/blog/assets/js/176.1a923c86.js"><link rel="prefetch" href="/blog/assets/js/177.f793238a.js"><link rel="prefetch" href="/blog/assets/js/178.14d88e21.js"><link rel="prefetch" href="/blog/assets/js/179.6f6240ba.js"><link rel="prefetch" href="/blog/assets/js/18.5a408906.js"><link rel="prefetch" href="/blog/assets/js/180.0f8edb87.js"><link rel="prefetch" href="/blog/assets/js/181.03180a71.js"><link rel="prefetch" href="/blog/assets/js/182.f865ce37.js"><link rel="prefetch" href="/blog/assets/js/183.ac3aa6d4.js"><link rel="prefetch" href="/blog/assets/js/184.98c48f22.js"><link rel="prefetch" href="/blog/assets/js/185.c9a38313.js"><link rel="prefetch" href="/blog/assets/js/186.17df78ce.js"><link rel="prefetch" href="/blog/assets/js/187.deb54fc5.js"><link rel="prefetch" href="/blog/assets/js/188.ce57e871.js"><link rel="prefetch" href="/blog/assets/js/189.d0bf150c.js"><link rel="prefetch" href="/blog/assets/js/19.398ffe89.js"><link rel="prefetch" href="/blog/assets/js/190.847c2182.js"><link rel="prefetch" href="/blog/assets/js/191.97ba6923.js"><link rel="prefetch" href="/blog/assets/js/192.f3b590c1.js"><link rel="prefetch" href="/blog/assets/js/193.ba2ca8f3.js"><link rel="prefetch" href="/blog/assets/js/194.9e4d7f9a.js"><link rel="prefetch" href="/blog/assets/js/195.31dff171.js"><link rel="prefetch" href="/blog/assets/js/196.b87cf077.js"><link rel="prefetch" href="/blog/assets/js/197.7a8999e2.js"><link rel="prefetch" href="/blog/assets/js/198.565fd962.js"><link rel="prefetch" href="/blog/assets/js/199.367d4ab8.js"><link rel="prefetch" href="/blog/assets/js/20.51c9b82e.js"><link rel="prefetch" href="/blog/assets/js/200.24918fbc.js"><link rel="prefetch" href="/blog/assets/js/201.2c37f9b3.js"><link rel="prefetch" href="/blog/assets/js/202.a7b02a24.js"><link rel="prefetch" href="/blog/assets/js/203.ba31b218.js"><link rel="prefetch" href="/blog/assets/js/204.4cdf2357.js"><link rel="prefetch" href="/blog/assets/js/205.2a5558ac.js"><link rel="prefetch" href="/blog/assets/js/206.42e68c2c.js"><link rel="prefetch" href="/blog/assets/js/207.8651d8ad.js"><link rel="prefetch" href="/blog/assets/js/208.3a3514d9.js"><link rel="prefetch" href="/blog/assets/js/209.f5ec7ebd.js"><link rel="prefetch" href="/blog/assets/js/21.58677daa.js"><link rel="prefetch" href="/blog/assets/js/210.a6a4c64a.js"><link rel="prefetch" href="/blog/assets/js/211.887209dd.js"><link rel="prefetch" href="/blog/assets/js/212.a6bb736b.js"><link rel="prefetch" href="/blog/assets/js/213.e6c92180.js"><link rel="prefetch" href="/blog/assets/js/214.0d443a07.js"><link rel="prefetch" href="/blog/assets/js/215.61ad34eb.js"><link rel="prefetch" href="/blog/assets/js/216.3c456e8d.js"><link rel="prefetch" href="/blog/assets/js/217.0b494533.js"><link rel="prefetch" href="/blog/assets/js/218.f1bc4125.js"><link rel="prefetch" href="/blog/assets/js/219.c3b720e9.js"><link rel="prefetch" href="/blog/assets/js/22.1b13b9f9.js"><link rel="prefetch" href="/blog/assets/js/220.1a7199c4.js"><link rel="prefetch" href="/blog/assets/js/221.9d1dae0f.js"><link rel="prefetch" href="/blog/assets/js/222.22a1aa4b.js"><link rel="prefetch" href="/blog/assets/js/223.0113f8be.js"><link rel="prefetch" href="/blog/assets/js/224.415da52d.js"><link rel="prefetch" href="/blog/assets/js/225.867b216b.js"><link rel="prefetch" href="/blog/assets/js/226.ace1a7aa.js"><link rel="prefetch" href="/blog/assets/js/227.e2755b4d.js"><link rel="prefetch" href="/blog/assets/js/228.6f499e17.js"><link rel="prefetch" href="/blog/assets/js/229.4f02146c.js"><link rel="prefetch" href="/blog/assets/js/23.85a34760.js"><link rel="prefetch" href="/blog/assets/js/230.fe28ea6b.js"><link rel="prefetch" href="/blog/assets/js/231.f21c98e0.js"><link rel="prefetch" href="/blog/assets/js/232.6c97b1ee.js"><link rel="prefetch" href="/blog/assets/js/233.8272a721.js"><link rel="prefetch" href="/blog/assets/js/234.595603de.js"><link rel="prefetch" href="/blog/assets/js/235.8619ec45.js"><link rel="prefetch" href="/blog/assets/js/236.85f02e60.js"><link rel="prefetch" href="/blog/assets/js/237.6d2e62fb.js"><link rel="prefetch" href="/blog/assets/js/238.6e6ac9f7.js"><link rel="prefetch" href="/blog/assets/js/239.53f0b5cf.js"><link rel="prefetch" href="/blog/assets/js/24.20f921b7.js"><link rel="prefetch" href="/blog/assets/js/240.3821b672.js"><link rel="prefetch" href="/blog/assets/js/241.5305f5ec.js"><link rel="prefetch" href="/blog/assets/js/242.6ad4ed65.js"><link rel="prefetch" href="/blog/assets/js/243.ca3c9789.js"><link rel="prefetch" href="/blog/assets/js/244.bb8497a7.js"><link rel="prefetch" href="/blog/assets/js/245.cb412b76.js"><link rel="prefetch" href="/blog/assets/js/25.80a642db.js"><link rel="prefetch" href="/blog/assets/js/26.887052e9.js"><link rel="prefetch" href="/blog/assets/js/27.2da52536.js"><link rel="prefetch" href="/blog/assets/js/28.15339022.js"><link rel="prefetch" href="/blog/assets/js/29.e5c06204.js"><link rel="prefetch" href="/blog/assets/js/30.87eddaf3.js"><link rel="prefetch" href="/blog/assets/js/31.d103ee94.js"><link rel="prefetch" href="/blog/assets/js/32.dfeae043.js"><link rel="prefetch" href="/blog/assets/js/33.88500596.js"><link rel="prefetch" href="/blog/assets/js/34.42bd269e.js"><link rel="prefetch" href="/blog/assets/js/35.d356708e.js"><link rel="prefetch" href="/blog/assets/js/36.8d7ffe7d.js"><link rel="prefetch" href="/blog/assets/js/37.b6784e29.js"><link rel="prefetch" href="/blog/assets/js/38.d5c1b8ea.js"><link rel="prefetch" href="/blog/assets/js/39.f65bfb64.js"><link rel="prefetch" href="/blog/assets/js/4.7f8c4f19.js"><link rel="prefetch" href="/blog/assets/js/40.8e55856b.js"><link rel="prefetch" href="/blog/assets/js/41.46bd8eeb.js"><link rel="prefetch" href="/blog/assets/js/42.fa69b0df.js"><link rel="prefetch" href="/blog/assets/js/43.7f38763d.js"><link rel="prefetch" href="/blog/assets/js/44.158165bb.js"><link rel="prefetch" href="/blog/assets/js/45.8ce2bf3b.js"><link rel="prefetch" href="/blog/assets/js/46.a18f4395.js"><link rel="prefetch" href="/blog/assets/js/47.c74d76fb.js"><link rel="prefetch" href="/blog/assets/js/48.24010d61.js"><link rel="prefetch" href="/blog/assets/js/49.c858f221.js"><link rel="prefetch" href="/blog/assets/js/5.3b73d3c0.js"><link rel="prefetch" href="/blog/assets/js/50.34062d92.js"><link rel="prefetch" href="/blog/assets/js/51.a68b241c.js"><link rel="prefetch" href="/blog/assets/js/52.e592641e.js"><link rel="prefetch" href="/blog/assets/js/53.c73f4165.js"><link rel="prefetch" href="/blog/assets/js/54.f7f47193.js"><link rel="prefetch" href="/blog/assets/js/55.4406db8e.js"><link rel="prefetch" href="/blog/assets/js/56.c580dc27.js"><link rel="prefetch" href="/blog/assets/js/57.9870966e.js"><link rel="prefetch" href="/blog/assets/js/58.1bbca00e.js"><link rel="prefetch" href="/blog/assets/js/59.90533bc0.js"><link rel="prefetch" href="/blog/assets/js/6.ff10c41a.js"><link rel="prefetch" href="/blog/assets/js/60.ec3ae037.js"><link rel="prefetch" href="/blog/assets/js/61.63aa6665.js"><link rel="prefetch" href="/blog/assets/js/62.afe082f9.js"><link rel="prefetch" href="/blog/assets/js/63.0cb94bb9.js"><link rel="prefetch" href="/blog/assets/js/64.941fbc1b.js"><link rel="prefetch" href="/blog/assets/js/65.15b24185.js"><link rel="prefetch" href="/blog/assets/js/66.a67e4d5c.js"><link rel="prefetch" href="/blog/assets/js/67.f5feba05.js"><link rel="prefetch" href="/blog/assets/js/68.3cfb31ba.js"><link rel="prefetch" href="/blog/assets/js/69.c1b29f26.js"><link rel="prefetch" href="/blog/assets/js/7.cc34e686.js"><link rel="prefetch" href="/blog/assets/js/70.c3d2f9fe.js"><link rel="prefetch" href="/blog/assets/js/71.12aa5fef.js"><link rel="prefetch" href="/blog/assets/js/72.c431b98f.js"><link rel="prefetch" href="/blog/assets/js/73.bd58ff69.js"><link rel="prefetch" href="/blog/assets/js/74.30ff1b16.js"><link rel="prefetch" href="/blog/assets/js/75.3f51e7d8.js"><link rel="prefetch" href="/blog/assets/js/76.cb2d0ad4.js"><link rel="prefetch" href="/blog/assets/js/77.9fd96c6d.js"><link rel="prefetch" href="/blog/assets/js/78.15ec2024.js"><link rel="prefetch" href="/blog/assets/js/79.be9286d8.js"><link rel="prefetch" href="/blog/assets/js/8.92a7e5d8.js"><link rel="prefetch" href="/blog/assets/js/80.4832ecd1.js"><link rel="prefetch" href="/blog/assets/js/81.639f8380.js"><link rel="prefetch" href="/blog/assets/js/82.886afa9e.js"><link rel="prefetch" href="/blog/assets/js/83.4653b3bb.js"><link rel="prefetch" href="/blog/assets/js/84.e605bba2.js"><link rel="prefetch" href="/blog/assets/js/85.1d0b05c4.js"><link rel="prefetch" href="/blog/assets/js/86.2eeefcc1.js"><link rel="prefetch" href="/blog/assets/js/87.662c4d05.js"><link rel="prefetch" href="/blog/assets/js/88.86b93cd4.js"><link rel="prefetch" href="/blog/assets/js/89.c673d780.js"><link rel="prefetch" href="/blog/assets/js/9.c0a00753.js"><link rel="prefetch" href="/blog/assets/js/90.12c6da38.js"><link rel="prefetch" href="/blog/assets/js/91.c0cd4d66.js"><link rel="prefetch" href="/blog/assets/js/92.ba906e85.js"><link rel="prefetch" href="/blog/assets/js/93.0a546476.js"><link rel="prefetch" href="/blog/assets/js/94.d5531242.js"><link rel="prefetch" href="/blog/assets/js/95.9f323f31.js"><link rel="prefetch" href="/blog/assets/js/96.3a45386f.js"><link rel="prefetch" href="/blog/assets/js/97.2e5871a1.js"><link rel="prefetch" href="/blog/assets/js/98.40f37788.js"><link rel="prefetch" href="/blog/assets/js/99.13035495.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.a8b589c1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">山月行</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">主页</a></div><div class="nav-item"><a href="/blog/post/binary-in-frontend/" class="nav-link">随记博客</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="系列文章" class="dropdown-title"><span class="title">系列文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/flutter-guide/" class="nav-link">Flutter 小记</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend-engineering/" class="nav-link router-link-active">前端工程化</a></li><li class="dropdown-item"><!----> <a href="/blog/node/" class="nav-link">Node 实践</a></li><li class="dropdown-item"><!----> <a href="/blog/no-vps/" class="nav-link">有可能你并不需要服务器</a></li><li class="dropdown-item"><!----> <a href="/blog/op/" class="nav-link">Docker 个人服务器运维</a></li><li class="dropdown-item"><!----> <a href="/blog/k8s/" class="nav-link">Kubernetes 服务器集群运维</a></li><li class="dropdown-item"><!----> <a href="/blog/bug/" class="nav-link">虫子集</a></li><li class="dropdown-item"><!----> <a href="/blog/code/Promise/" class="nav-link">经典代码实现</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="无关技术" class="dropdown-title"><span class="title">无关技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/tour/" class="nav-link">山月的裸辞之行</a></li><li class="dropdown-item"><!----> <a href="/blog/note/china/" class="nav-link">全国旅游攻略</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的应用" class="dropdown-title"><span class="title">我的应用</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://geek.shanyue.tech" target="_blank" rel="noopener noreferrer" class="nav-link external">
  极客时间返利
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://q.shanyue.tech" target="_blank" rel="noopener noreferrer" class="nav-link external">
  面试每日一题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shici.xiange.tech" target="_blank" rel="noopener noreferrer" class="nav-link external">
  诗词小站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juzi.shanyue.tech" target="_blank" rel="noopener noreferrer" class="nav-link external">
  句子集
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://wuqiku.buzuosheng.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端武器库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/shfshanyue/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">主页</a></div><div class="nav-item"><a href="/blog/post/binary-in-frontend/" class="nav-link">随记博客</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="系列文章" class="dropdown-title"><span class="title">系列文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/flutter-guide/" class="nav-link">Flutter 小记</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend-engineering/" class="nav-link router-link-active">前端工程化</a></li><li class="dropdown-item"><!----> <a href="/blog/node/" class="nav-link">Node 实践</a></li><li class="dropdown-item"><!----> <a href="/blog/no-vps/" class="nav-link">有可能你并不需要服务器</a></li><li class="dropdown-item"><!----> <a href="/blog/op/" class="nav-link">Docker 个人服务器运维</a></li><li class="dropdown-item"><!----> <a href="/blog/k8s/" class="nav-link">Kubernetes 服务器集群运维</a></li><li class="dropdown-item"><!----> <a href="/blog/bug/" class="nav-link">虫子集</a></li><li class="dropdown-item"><!----> <a href="/blog/code/Promise/" class="nav-link">经典代码实现</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="无关技术" class="dropdown-title"><span class="title">无关技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/tour/" class="nav-link">山月的裸辞之行</a></li><li class="dropdown-item"><!----> <a href="/blog/note/china/" class="nav-link">全国旅游攻略</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="我的应用" class="dropdown-title"><span class="title">我的应用</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://geek.shanyue.tech" target="_blank" rel="noopener noreferrer" class="nav-link external">
  极客时间返利
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://q.shanyue.tech" target="_blank" rel="noopener noreferrer" class="nav-link external">
  面试每日一题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shici.xiange.tech" target="_blank" rel="noopener noreferrer" class="nav-link external">
  诗词小站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juzi.shanyue.tech" target="_blank" rel="noopener noreferrer" class="nav-link external">
  句子集
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://wuqiku.buzuosheng.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端武器库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/shfshanyue/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <div style="padding-left:1.5rem;"><div class="qr"><img src="/blog/assets/img/qr.72ae919c.jpg" alt="山月行" width="120" height="120" loading="lazy"> <p class="we-intro">
    如果你对前端，后端，DevOps，或者个人服务器运维感兴趣的话，可以扫码关注我的公众号<span class="we-highlight">全栈成长之路</span>。
  </p></div></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端工程化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/frontend-engineering/uglify.html" class="sidebar-link">压缩</a></li><li><a href="/blog/frontend-engineering/bundle.html" class="sidebar-link">打包</a></li><li><a href="/blog/frontend-engineering/http-cache.html" aria-current="page" class="active sidebar-link">缓存</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/frontend-engineering/http-cache.html#带指纹资源-永久缓存" class="sidebar-link">带指纹资源: 永久缓存</a></li><li class="sidebar-sub-header"><a href="/blog/frontend-engineering/http-cache.html#非带指纹资源-每次进行新鲜度校验" class="sidebar-link">非带指纹资源: 每次进行新鲜度校验</a></li><li class="sidebar-sub-header"><a href="/blog/frontend-engineering/http-cache.html#一定要为你的资源添加-cache-control-响应头" class="sidebar-link">一定要为你的资源添加 Cache-Control 响应头</a></li><li class="sidebar-sub-header"><a href="/blog/frontend-engineering/http-cache.html#bundle-splitting-尽量减少资源变更" class="sidebar-link">Bundle Splitting：尽量减少资源变更</a></li><li class="sidebar-sub-header"><a href="/blog/frontend-engineering/http-cache.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/frontend-engineering/eslint.html" class="sidebar-link">规范</a></li><li><a href="/blog/frontend-engineering/npm-install.html" class="sidebar-link">装包</a></li><li><a href="/blog/frontend-engineering/docker.html" class="sidebar-link">Deploy</a></li><li><a href="/blog/frontend-engineering/feature-deploy.html" class="sidebar-link">Preview</a></li><li><a href="/blog/frontend-engineering/deploy.html" class="sidebar-link">部署史</a></li><li><a href="/blog/frontend-engineering/local-https.html" class="sidebar-link">Local HTTPS</a></li></ul></section></li></ul> </aside> <!----> <!----> <main class="page"><div class="theme-default-content" style="margin-top:3.6rem;padding-top:0;padding-bottom:0;"><div class="bar-container"><div class="bar-intro"><div class="text">
      阿里云双十一优惠活动，点击链接进行购买: <a href="https://www.aliyun.com/1111/pintuan-share?ptCode=MTY5MzQ0Mjc1MzQyODAwMHx8MTE0fDE%3D&userCode=4sm8juxu">一年仅需89元即可以购买服务器~</a>。我个人服务器为2核4G配置，也更加推荐购买 <a href="https://www.aliyun.com/1111/pintuan-share?ptCode=MTY5MzQ0Mjc1MzQyODAwMHx8MTE0fDE%3D&userCode=4sm8juxu">2核4G三年799元</a> 配置的服务器。
    </div> <div class="text">
      你可以跟着我的笔记 <a href="https://shanyue.tech/op/">当我有一台服务器时，我做了什么</a> 来开始维护服务器并搭建应用，将引导你使用 docker 和 k8s 搭建一个自己的服务器开发集群。
    </div></div></div></div> <div class="theme-default-content"><div class="content__default"><h1 id="网站的缓存控制策略最佳实践及注意事项"><a href="#网站的缓存控制策略最佳实践及注意事项" class="header-anchor">#</a> 网站的缓存控制策略最佳实践及注意事项</h1> <p>对于一个网站来讲，性能关乎用户体验，你在更短的时间内打开网站，你将会留住更多的用户。如果你的页面十秒才能打开，那再好的用户交互也是徒然。</p> <p><img src="/blog/assets/img/render.2d41753a.jpg" alt=""></p> <p>缓存控制是网站性能优化中至为常见及重要的一环，好的缓存控制，除了使网站在性能方面有所提升，在财务方面也有重要提升: 更好的缓存策略意味着更少的请求，更少的流量，更少的峰值带宽，从而节省一大笔服务器或者 CDN 的费用。</p> <p>缓存控制策略就是 http caching 的策略，化繁为简，最有效的策略往往是很简单的。在最简单的粗略下，你对 http cache 只需要了解一个 <code>Cache-Control</code> 的头部。</p> <p>一个较好的缓存策略只需要两部分，而它们只需要通过 <code>Cache-Control</code> 控制：</p> <ol><li>带指纹资源: 永久缓存</li> <li>非带指纹资源: 每次进行新鲜度校验</li></ol> <p>作图如下：</p> <p><img src="/blog/assets/img/http-cache.be061628.png" alt="缓存控制策略"></p> <h2 id="带指纹资源-永久缓存"><a href="#带指纹资源-永久缓存" class="header-anchor">#</a> 带指纹资源: 永久缓存</h2> <div class="language- extra-class"><pre class="language-text"><code>Cache-Control: max-age=31536000
</code></pre></div><p>天下武功，无坚不摧，唯快不破。资源请求最快的方式就是不向服务器发起请求，通过以上响应头可以对资源设置永久缓存。</p> <ol><li>静态资源带有 hash 值，即指纹</li> <li>对资源设置一年过期时间，即 31536000，一般认为是永久缓存</li> <li>在永久缓存期间浏览器不需要向服务器发送请求</li></ol> <p>那为什么带有 hash 值的资源可以永久缓存呢？</p> <p><strong>因为该文件的内容发生变化时，会生成一个带有新的 hash 值的 URL。</strong> 前端将会发起一个新的 URL 的请求。</p> <h2 id="非带指纹资源-每次进行新鲜度校验"><a href="#非带指纹资源-每次进行新鲜度校验" class="header-anchor">#</a> 非带指纹资源: 每次进行新鲜度校验</h2> <div class="language- extra-class"><pre class="language-text"><code>Cache-Control: no-cache
</code></pre></div><ol><li>由于不带有指纹，每次都需要校验资源的新鲜度。(从缓存中取到资源，可能是过期资源)</li> <li>如果校验为最新资源，则从浏览器的缓存中加载资源</li></ol> <p><code>index.html</code> 为不带有指纹资源，如果把它置于缓存中，则如何保证服务器刷新数据时，被浏览器可以获取到新鲜的资源？</p> <p>因此，使用 <code>Cache-Control: no-cache</code> 时，客户端每次对服务器进行新鲜度校验。</p> <blockquote><p>PS：<a href="https://github.com/shfshanyue/Daily-Question/issues/207" target="_blank" rel="noopener noreferrer">no-cache 与 no-store 的区别是什么？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>即使每次校验新鲜度，也不需要每次都从服务器下载资源: <strong>如果浏览器/CDN上缓存经校验没有过期</strong>。这被称为协商缓存，此时 http 状态码返回 304，指 <code>Not Modified</code>，即没有变更。</p> <p><strong>幸运的是，关于协商缓存，你无需管理，也无需配置，</strong> <code>nginx</code> 或者一些 <code>OSS</code> 都会自动配置协商缓存。</p> <p>而对于协商缓存，也有它们自己的算法，协商缓存的背后基于响应头 <code>Last-Modified/ETag</code>。浏览器每次请求资源时，会携带上次服务器响应的 <code>ETag/Last-Modified</code> 作为标志，与服务端此时的 <code>ETag/Last-Modified</code> 作比较，来判断内容更改。</p> <blockquote><p><a href="https://github.com/shfshanyue/Daily-Question/issues/112" target="_blank" rel="noopener noreferrer">http 响应头中的 ETag 值是如何生成的？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>而在操作系统底层，<code>Last-Modified</code> 往往通过文件系统(file system)中的 <code>mtime</code> 属性生成。而 <code>ETag</code> 提供比 <code>Last-Modified</code> 更精细的检验粒度，由文件内容的 <code>hash</code> 或者 <code>mtime/size</code> 生成。当然，这是后话。</p> <h2 id="一定要为你的资源添加-cache-control-响应头"><a href="#一定要为你的资源添加-cache-control-响应头" class="header-anchor">#</a> 一定要为你的资源添加 Cache-Control 响应头</h2> <p>我会经常接触到一些网站，他们的资源文件并没有 <code>Cache-Control</code> 这个响应头。究其原因，在于缓存策略配置这个工作的职责不清，有时候它需要协调前端和运维。</p> <p><strong>那如果不添加 <code>Cache-Control</code> 这个响应头会怎么样？</strong></p> <p>是不是每次都会自动去服务器校验新鲜度，很可惜，不是。 <strong>此时会对资源进行强制缓存，而对不带有指纹信息的资源很有可能获取到过期资源。</strong> 如果过期资源存在于浏览器上，还可以通过强制刷新浏览器来获取最新资源。但是如果过期资源存在于 CDN 的边缘节点上，CDN 的刷新就会复杂很多，而且有可能需要多人协作解决。</p> <p><strong>那默认的强制缓存时间是多少</strong></p> <p>首先要明确两个响应头代表的含义：</p> <ol><li><code>Date</code>: 指源服务器响应报文生成的时间，差不多与发请求的时间等价</li> <li><code>Last-Modified</code>: 指静态资源上次修改的时间，取决于 <code>mtime</code></li></ol> <p><code>LM factor</code> 算法认为当请求服务器时，如果没有设置 <code>Cache-Control</code>，如果距离上次的 <code>Last-Modified</code> 越远，则生成的强制缓存时间越长。</p> <p>用公式表示如下，其中 <code>factor</code> 介于 0 与 1 之间：</p> <div class="language-js extra-class"><pre class="language-js"><code>MaxAge <span class="token operator">=</span> <span class="token punctuation">(</span>Date <span class="token operator">-</span> LastModified<span class="token punctuation">)</span> <span class="token operator">*</span> factor
</code></pre></div><p><img src="data:image/jpeg;base64,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" alt="LM factor"></p> <h2 id="bundle-splitting-尽量减少资源变更"><a href="#bundle-splitting-尽量减少资源变更" class="header-anchor">#</a> Bundle Splitting：尽量减少资源变更</h2> <p>得益于单页应用与前端工程化的发展，经过打包后，基本上所有资源都是带有指纹信息的，这意味着所有的资源都是能够设置永久缓存。打包策略如下图所示：</p> <p><img src="/blog/assets/img/http-cache.be061628.png" alt="缓存控制策略"></p> <p>但仅仅如此了吗？</p> <p>如果你所有的 js 资源都打包成一个文件，它确实有永久缓存的优势。但是当有一行文件进行修改时，这一个大包的指纹信息发生改变，永久缓存失效。</p> <p>所以我们现在需要做到的是：当修改文件后，造成最小范围的缓存失效。<code>webpack</code> 等打包工具虽然在 <code>optimization</code> 上内置了很多性能优化，但它不会帮你做这件事，这件事情需要自己动手。</p> <p><img src="/blog/assets/img/http-cache-2.182dbd90.png" alt="缓存控制策略"></p> <p>此时我们可以对资源进行分层次缓存的打包方案，这是一个建议方案：</p> <ol><li><code>webpack-runtime</code>: 应用中的 <code>webpack</code> 的版本比较稳定，分离出来，保证长久的永久缓存</li> <li><code>react/react-dom</code>: <code>react</code> 的版本更新频次也较低</li> <li><code>vendor</code>: 常用的第三方模块打包在一起，如 <code>lodash</code>，<code>classnames</code> 基本上每个页面都会引用到，但是它们的更新频率会更高一些。另外对低频次使用的第三方模块不要打进来</li> <li><code>pageA</code>: A 页面，当 A 页面的组件发生变更后，它的缓存将会失效</li> <li><code>pageB</code>: B 页面</li> <li><code>echarts</code>: 不常用且过大的第三方模块单独打包</li> <li><code>mathjax</code>: 不常用且过大的第三方模块单独打包</li> <li><code>jspdf</code>: 不常用且过大的第三方模块单独打包</li></ol> <p>随着 <code>http2</code> 的发展，特别是多路复用，初始页面的静态资源不受资源数量的影响。<strong>因此为了更好的缓存效果以及按需加载，也有很多方案建议把所有的第三方模块进行单模块打包。</strong></p> <h2 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h2> <p><img src="/blog/assets/img/http-cache-2.182dbd90.png" alt="缓存控制策略"></p></div> <!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/16/2020, 6:45:56 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/frontend-engineering/bundle.html" class="prev">打包</a></span> <span class="next"><a href="/blog/frontend-engineering/eslint.html">规范</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.84ccd95a.js" defer></script><script src="/blog/assets/js/3.9923276c.js" defer></script><script src="/blog/assets/js/2.b54c2c97.js" defer></script><script src="/blog/assets/js/14.726d16b6.js" defer></script>
  </body>
</html>
